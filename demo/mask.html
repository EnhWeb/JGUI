<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-control" content="no-cache,must-revalidate" />
    <meta http-equiv="Cache" content="no-cache" />
    <title>JGUI - 从零开始（学习心得）</title>
    <script type="text/javascript" src="/js/third/jquery.min.js"></script>
    <link rel="stylesheet" href="/css/page/common.css" type="text/css" />
    <link rel="stylesheet" href="/css/jgui.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="bookmark" href="/favicon.ico" />
    <!--[if lt IE 9]>
      <script type="text/javascript" src="/js/third/html5.js"></script>
      <script
        type="text/javascript"
        src="/js/third/css3-mediaqueries.js"
      ></script>
    <![endif]-->
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?bac88ac9a169826a551fcfde47e1753d";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  </head>
  <body>
    <div>这是mask界面显示代码</div>
    <div id="test" style="background-color:#124567;color:white;width:100px">点击弹出</div>
    <script type="text/javascript">
      function showMask()
      {
        var topWin=(function(){ var p=window.parent; while(p!=p.window.parent){p=p.window.parent;} return p; })();//获取顶层窗口
        var topwindowbody=topWin.document.body;//获取顶层窗口的body元素
        $(topwindowbody).append(
          '<div class="jgui-mask" style="position:absolute;width: 100%;height: 100%;;z-index:1000;background-color: #000;opacity: 0;"></div>'
        );
        $(".jgui-mask",topwindowbody).fadeIn(0, function(){//显示
          $(this).fadeTo('fast', 0.5);//从全透明到半透明
        });
        $(".jgui-mask",topwindowbody)
            .unbind("click")
            .click(function() {
              $(this).fadeOut("fast", 0, function() {//隐藏
                $(this).remove();
              });
            });
      }
      $(function() {
        $("#test").click(function() {
          showMask();
        });
      });
    </script>
  </body>
</html>
